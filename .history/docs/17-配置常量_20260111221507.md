# âš™ï¸ é…ç½®å¸¸é‡

**config/settings.py è¯¦ç»†è¯´æ˜Ž**

---

## ðŸ“‹ æ¨¡å—æ¦‚è¿°

settings.py åŒ…å«é¡¹ç›®çš„å…¨å±€é…ç½®å¸¸é‡ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬ä¿¡æ¯ã€é¢œè‰²å®šä¹‰ã€çŠ¶æ€æ ‡è®°ç­‰ã€‚

---

## ðŸ“Œ ç‰ˆæœ¬ä¿¡æ¯

```python
# åº”ç”¨ç‰ˆæœ¬
APP_VERSION = "1.4.3"

# åº”ç”¨åç§°
APP_NAME = "SupplyChain-Reconciler-Plus"

# åº”ç”¨æ ‡é¢˜
APP_TITLE = f"{APP_NAME} v{APP_VERSION}"
```

---

## ðŸŽ¨ UIé¢œè‰²é…ç½®

### ä¸»é¢˜è‰²

```python
UI_COLORS = {
    # èƒŒæ™¯è‰²
    "bg_main": "#f5f5f5",        # ä¸»èƒŒæ™¯ï¼ˆæµ…ç°ï¼‰
    "bg_card": "#ffffff",         # å¡ç‰‡èƒŒæ™¯ï¼ˆç™½è‰²ï¼‰
    "bg_input": "#ffffff",        # è¾“å…¥æ¡†èƒŒæ™¯
    "bg_header": "#f8f9fa",       # æŠ˜å åŒºæ ‡é¢˜èƒŒæ™¯
    
    # æ–‡å­—è‰²
    "text_primary": "#333333",    # ä¸»è¦æ–‡å­—ï¼ˆæ·±ç°ï¼‰
    "text_secondary": "#666666",  # æ¬¡è¦æ–‡å­—
    "text_placeholder": "#999999", # å ä½ç¬¦æ–‡å­—
    "text_link": "#1976D2",       # é“¾æŽ¥æ–‡å­—ï¼ˆè“è‰²ï¼‰
    
    # è¾¹æ¡†è‰²
    "border_default": "#cccccc",  # é»˜è®¤è¾¹æ¡†
    "border_hover": "#2196F3",    # æ‚¬åœè¾¹æ¡†ï¼ˆè“è‰²ï¼‰
    "border_divider": "#e0e0e0",  # åˆ†å‰²çº¿
    
    # å¼ºè°ƒè‰²
    "accent": "#1976D2",          # ä¸»å¼ºè°ƒè‰²ï¼ˆè“è‰²ï¼‰
    "accent_hover": "#1565C0",    # æ‚¬åœå¼ºè°ƒè‰²
    "accent_light": "#BBDEFB",    # æµ…å¼ºè°ƒè‰²
    
    # çŠ¶æ€è‰²
    "success": "#4CAF50",         # æˆåŠŸï¼ˆç»¿è‰²ï¼‰
    "warning": "#FF9800",         # è­¦å‘Šï¼ˆæ©™è‰²ï¼‰
    "error": "#f44336",           # é”™è¯¯ï¼ˆçº¢è‰²ï¼‰
    "info": "#2196F3",            # ä¿¡æ¯ï¼ˆè“è‰²ï¼‰
}
```

### é¢„è§ˆè¡¨æ ¼é¢œè‰²

```python
PREVIEW_COLORS = {
    "match": "#D1FAE5",       # ä¸€è‡´ - æµ…ç»¿è‰²
    "diff_pos": "#D9F99D",    # å·®å¼‚(æ­£) - æµ…é»„ç»¿
    "diff_neg": "#BFDBFE",    # å·®å¼‚(è´Ÿ) - æµ…è“è‰²
    "missing": "#FECACA",     # ç¼ºå¤± - æµ…çº¢è‰²
    "header": "#E2E8F0",      # è¡¨å¤´ - æµ…ç°è‰²
}
```

### Excelå¯¼å‡ºé¢œè‰²

```python
EXCEL_COLORS = {
    # è¡ŒèƒŒæ™¯è‰² (ARGBæ ¼å¼)
    "match": "FFD1FAE5",      # ä¸€è‡´ - æµ…ç»¿
    "diff_pos": "FFD9F99D",   # å·®å¼‚(æ­£) - æµ…é»„
    "diff_neg": "FFBFDBFE",   # å·®å¼‚(è´Ÿ) - æµ…è“
    "missing": "FFFECACA",    # ç¼ºå¤± - æµ…çº¢
    
    # è¡¨å¤´
    "header_bg": "FFE2E8F0",  # è¡¨å¤´èƒŒæ™¯
    "header_font": "FF333333", # è¡¨å¤´æ–‡å­—
    
    # è¾¹æ¡†
    "border": "FFCCCCCC",     # å•å…ƒæ ¼è¾¹æ¡†
}
```

---

## ðŸ“Š æ¯”å¯¹çŠ¶æ€

### çŠ¶æ€æ ‡è®°

```python
COMPARE_STATUS = {
    "match": "âœ“",             # ä¸€è‡´
    "diff_pos": "â†•",          # å·®å¼‚(æ‰‹å·¥>ç³»ç»Ÿ)
    "diff_neg": "â†•",          # å·®å¼‚(æ‰‹å·¥<ç³»ç»Ÿ)
    "manual_only": "âœ—",       # ä»…æ‰‹å·¥å­˜åœ¨
    "system_only": "âœ—",       # ä»…ç³»ç»Ÿå­˜åœ¨
}
```

### çŠ¶æ€æè¿°

```python
STATUS_DESCRIPTIONS = {
    "match": "ä¸€è‡´",
    "diff_pos": "å·®å¼‚(æ‰‹å·¥>ç³»ç»Ÿ)",
    "diff_neg": "å·®å¼‚(æ‰‹å·¥<ç³»ç»Ÿ)",
    "manual_only": "ä»…æ‰‹å·¥å­˜åœ¨",
    "system_only": "ä»…ç³»ç»Ÿå­˜åœ¨",
}
```

---

## ðŸ” ç­›é€‰æ“ä½œç¬¦

### æ“ä½œç¬¦æ˜ å°„

```python
OPERATOR_MAP = {
    "ç­‰äºŽ": "EQUALS",
    "ä¸ç­‰äºŽ": "NOT_EQUALS",
    "åŒ…å«": "CONTAINS",
    "ä¸åŒ…å«": "NOT_CONTAINS",
    "åŒ…å«äºŽ": "IN_LIST",
    "å¤§äºŽ": "GREATER",
    "å°äºŽ": "LESS",
}
```

### æ“ä½œç¬¦åˆ—è¡¨ï¼ˆUIæ˜¾ç¤ºç”¨ï¼‰

```python
FILTER_OPERATORS = [
    "ç­‰äºŽ",
    "ä¸ç­‰äºŽ",
    "åŒ…å«",
    "ä¸åŒ…å«",
    "åŒ…å«äºŽ",
    "å¤§äºŽ",
    "å°äºŽ",
]
```

---

## ðŸ§¹ æ¸…æ´—æ¨¡å¼

```python
CLEAN_MODES = [
    "åˆ é™¤åŒ¹é…",
    "ä¿ç•™åŒ¹é…",
    "æ›¿æ¢ä¸º",
]
```

### æ¸…æ´—é¢„è®¾

```python
CLEAN_PRESETS = {
    "æœ«å°¾åºå·": {
        "regex": r"-\d+$",
        "description": "åˆ é™¤æœ«å°¾çš„ -æ•°å­—"
    },
    "é¦–å°¾ç©ºæ ¼": {
        "regex": r"^\s+|\s+$",
        "description": "åˆ é™¤é¦–å°¾ç©ºæ ¼"
    },
    "éžæ•°å­—": {
        "regex": r"\D+",
        "description": "åˆ é™¤æ‰€æœ‰éžæ•°å­—å­—ç¬¦"
    },
    "æ‹¬å·å†…å®¹": {
        "regex": r"\([^)]*\)",
        "description": "åˆ é™¤æ‹¬å·åŠå…¶å†…å®¹"
    },
}
```

---

## ðŸ“ æ–‡ä»¶é…ç½®

### æ”¯æŒçš„æ–‡ä»¶æ ¼å¼

```python
SUPPORTED_EXCEL_FORMATS = [
    ".xlsx",
    ".xls",
    ".xlsm",
]

FILE_FILTER = "Excelæ–‡ä»¶ (*.xlsx *.xls *.xlsm)"
```

### é»˜è®¤å¯¼å‡ºæ–‡ä»¶å

```python
DEFAULT_EXPORT_NAME = "å¯¹è´¦ç»“æžœ_{timestamp}.xlsx"
```

---

## ðŸ“Š é¢„è§ˆé…ç½®

```python
# æ•°æ®æ ·ä¾‹æ˜¾ç¤ºè¡Œæ•°
SAMPLE_ROW_COUNT = 5

# ç»“æžœé¢„è§ˆæ˜¾ç¤ºè¡Œæ•°
PREVIEW_ROW_LIMIT = 15
```

---

## ðŸ”§ æ€§èƒ½é…ç½®

```python
# å¤§æ•°æ®é›†é˜ˆå€¼
LARGE_DATASET_THRESHOLD = 10000

# è¶…å¤§æ•°æ®é›†é˜ˆå€¼ï¼ˆå»ºè®®åˆ†æ‰¹ï¼‰
VERY_LARGE_THRESHOLD = 100000

# å†…å­˜è­¦å‘Šé˜ˆå€¼ï¼ˆMBï¼‰
MEMORY_WARNING_THRESHOLD = 500
```

---

## ðŸ“‹ åˆ—åå¸¸é‡

### å›ºå®šåˆ—å

```python
KEY_COLUMN = "__KEY__"           # å¤åˆä¸»é”®åˆ—
MANUAL_VALUE_COLUMN = "æ‰‹å·¥æ•°é‡"  # æ‰‹å·¥è¡¨æ•°å€¼åˆ—
SYSTEM_TOTAL_COLUMN = "ç³»ç»Ÿæ€»è®¡"  # ç³»ç»Ÿè¡¨æ€»è®¡åˆ—
DIFF_COLUMN = "å·®å€¼"             # å·®å€¼åˆ—
STATUS_COLUMN = "æ¯”å¯¹çŠ¶æ€"        # çŠ¶æ€åˆ—
```

### é»˜è®¤å…¬å¼

```python
DEFAULT_FORMULA = "æ‰‹å·¥æ•°é‡ - ç³»ç»Ÿæ€»è®¡"
```

---

## ðŸŽ¨ æ ·å¼æ¨¡æ¿

### æŒ‰é’®æ ·å¼

```python
BUTTON_STYLES = {
    "primary": """
        QPushButton {
            background-color: #1976D2;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
        }
        QPushButton:hover {
            background-color: #1565C0;
        }
    """,
    "secondary": """
        QPushButton {
            background-color: #f5f5f5;
            color: #333333;
            border: 1px solid #cccccc;
            border-radius: 4px;
            padding: 8px 16px;
        }
        QPushButton:hover {
            background-color: #e0e0e0;
        }
    """,
    "danger": """
        QPushButton {
            background-color: #f44336;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
        }
        QPushButton:hover {
            background-color: #d32f2f;
        }
    """,
}
```

### è¾“å…¥æ¡†æ ·å¼

```python
INPUT_STYLE = """
    QLineEdit, QComboBox, QSpinBox {
        background-color: #ffffff;
        color: #333333;
        border: 1px solid #cccccc;
        border-radius: 4px;
        padding: 6px 8px;
    }
    QLineEdit:focus, QComboBox:focus {
        border-color: #2196F3;
    }
    QComboBox::drop-down {
        border: none;
        width: 24px;
    }
"""
```

### è¡¨æ ¼æ ·å¼

```python
TABLE_STYLE = """
    QTableWidget {
        background-color: #ffffff;
        border: 1px solid #cccccc;
        gridline-color: #e0e0e0;
        selection-background-color: #BBDEFB;
    }
    QTableWidget::item {
        padding: 4px 8px;
    }
    QHeaderView::section {
        background-color: #f5f5f5;
        border: 1px solid #cccccc;
        padding: 4px;
        font-weight: bold;
    }
"""
```

---

## ðŸ“ ä½¿ç”¨ç¤ºä¾‹

### å¯¼å…¥å¸¸é‡

```python
from config.settings import (
    APP_VERSION,
    UI_COLORS,
    EXCEL_COLORS,
    COMPARE_STATUS,
    OPERATOR_MAP,
    KEY_COLUMN,
    DEFAULT_FORMULA,
)
```

### ä½¿ç”¨é¢œè‰²

```python
# UIä¸­ä½¿ç”¨
label.setStyleSheet(f"color: {UI_COLORS['text_primary']};")

# Excelå¯¼å‡ºä¸­ä½¿ç”¨
from openpyxl.styles import PatternFill
fill = PatternFill(
    fill_type="solid",
    start_color=EXCEL_COLORS["match"]
)
```

### ä½¿ç”¨çŠ¶æ€

```python
def get_status_text(status_type):
    symbol = COMPARE_STATUS.get(status_type, "?")
    desc = STATUS_DESCRIPTIONS.get(status_type, "æœªçŸ¥")
    return f"{symbol} {desc}"
```

---

## â–¶ï¸ ä¸‹ä¸€æ­¥

äº†è§£æ¨¡æ¿ç®¡ç†ï¼ŒæŸ¥çœ‹ [æ¨¡æ¿ç®¡ç†](./18-æ¨¡æ¿ç®¡ç†.md)ã€‚
