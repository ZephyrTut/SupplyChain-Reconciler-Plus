# 📝 CHANGELOG

**SupplyChain-Reconciler-Plus 版本历史**

---

## v1.4.3 - 2026-01-11

### ✨ 新增功能
- ✅ 创建完整的文档体系（19份详细功能文档）
- ✅ 新增AI Agent开发约束（AGENT.md）
- ✅ 完善项目文档与API参考
- ✅ 补充快速开始指南

### 📚 文档更新
- ✅ 创建 `docs/` 目录（19份Markdown文档）
  - 快速开始指南（01-02）
  - 核心功能说明（03-09）
  - UI界面详解（10-13）
  - 技术API参考（14-17）
  - 配置与常见问题（18-19）
- ✅ 创建 AGENT.md（Agent专用约束）
- ✅ 更新 .github/copilot-instructions.md
- ✅ 更新 PROJECT_OVERVIEW.md

### 📊 项目整理
- ✅ 同步版本号到所有文档
- ✅ 清理临时Excel文件
- ✅ 移除过时的ttkbootstrap依赖
- ✅ 更新 requirements.txt

**状态**: 🟢 稳定版本

---

## v1.4.2 - 2025-12-20

### 🐛 Bug修复
- 修复模板删除功能中的ID兼容性问题
- 改进活动Excel文件检测逻辑
- 优化拖拽文件导入的反馈

### ✨ 新增功能
- 支持手工表/系统表数据样例实时显示
- 增强活动Excel检测，支持WPS识别
- 改进拖拽导入的可视化反馈

### 📊 测试覆盖
- 新增 test_template_standalone.py（8个测试用例）
- 完善 test_asn_export.py 和 test_core.py
- 添加自定义测试运行器（无需pytest依赖）

### 📚 文档
- 创建 TESTING_SUMMARY.md（测试方案文档）
- 创建 tests/README_TESTING.md（测试说明）
- 创建 活动Excel检测和样例显示.md

**状态**: 🟢 稳定版本

---

## v1.4.1 - 2025-11-15

### ✨ 新增功能
- 实现模板管理功能（保存/加载/删除）
- 模板自动同名覆盖
- 模板二次确认删除

### 🔧 改进
- 改进配置面板的可折叠区域交互
- 优化大数据集处理性能
- 增强错误提示友好性

### 🐛 Bug修复
- 修复下拉框滚轮干扰问题（NoScrollComboBox）
- 修复透视配置中的列名匹配
- 改进Excel文件格式检测

### 📊 性能优化
- 预览数据限制为15行
- 大数据集警告提示
- 内存使用优化

**状态**: 🟢 稳定版本

---

## v1.4.0 - 2025-10-01

### ✨ 核心功能
- ✅ 双表对账（手工表 vs 系统表）
- ✅ 复合主键配置（单/多字段）
- ✅ 数值列映射
- ✅ 正则表达式数据清洗（3种模式）
- ✅ 8种筛选操作符
- ✅ 手工表透视（出入库区分）
- ✅ 系统表透视（状态展开）
- ✅ 自定义差值公式
- ✅ 彩色Excel导出（3Sheet）
- ✅ 配置模板管理

### 🎨 UI功能
- ✅ 三步骤流程引导
- ✅ 可折叠配置面板
- ✅ 实时样例数据显示
- ✅ 结果预览表格
- ✅ 统计信息显示
- ✅ 拖拽文件导入
- ✅ 多Sheet选择

### 🛠️ 技术栈
- Python 3.10+
- PyQt6 + qt-material（UI框架）
- pandas（数据处理）
- openpyxl（Excel操作）
- xlrd（.xls支持）

### 📊 性能指标
- 小数据集 (< 1000行): < 1秒
- 中数据集 (1000-10000行): 1-5秒
- 大数据集 (10000-100000行): 5-30秒

**状态**: 🟢 稳定版本

---

## v1.3.x - 前期版本

### v1.3.2
- 改进错误提示与异常处理
- 优化UI响应速度
- 补充单元测试

### v1.3.1
- 修复Excel读取编码问题
- 增强数据类型识别
- 改进配置验证逻辑

### v1.3.0
- 首个PyQt6版本（从ttkbootstrap迁移）
- 完整的UI重设计
- 色彩主题优化

---

## v1.2.x - 稳定版本

### v1.2.3
- 最后的ttkbootstrap版本
- 完整的功能实现
- 基础测试覆盖

---

## 版本号说明

遵循 **语义版本控制** (Semantic Versioning)：

**v主版本.次版本.修订版本**

| 版本 | 说明 | 例子 |
|------|------|------|
| 主版本 | 重大改变，可能不兼容 | v1→v2 |
| 次版本 | 新增功能，向后兼容 | v1.3→v1.4 |
| 修订版本 | Bug修复，向后兼容 | v1.4.0→v1.4.1 |

---

## 发布日期 & 支持

| 版本 | 发布日期 | 支持状态 |
|------|---------|---------|
| v1.4.3 | 2026-01-11 | 🟢 当前版本 |
| v1.4.2 | 2025-12-20 | 🟡 维护中 |
| v1.4.1 | 2025-11-15 | 🟡 维护中 |
| v1.4.0 | 2025-10-01 | 🟡 维护中 |
| v1.3.x | 2025-09-xx | 🔴 不支持 |

---

## 升级指南

### 从 v1.4.2 升级到 v1.4.3
- ✅ 文档更新，无代码变化
- ✅ 无需数据迁移
- ✅ 完全兼容

### 从 v1.4.1 升级到 v1.4.2
- ✅ Bug修复版本
- ✅ 重启应用即可
- ✅ 无配置变化

### 从 v1.3.x 升级到 v1.4.x
- ⚠️ 框架更新（ttkbootstrap → PyQt6）
- ⚠️ 建议重新安装依赖
- ✅ 配置文件兼容

---

## 已知问题

### v1.4.3
- 无已知严重问题
- 详见 [常见问题](docs/19-常见问题.md)

### 报告Bug
- 请在 [Issues](https://github.com/your-repo/issues) 中报告
- 包含错误截图、复现步骤、Python版本

---

## 贡献者

感谢所有为此项目做出贡献的人员！

---

**最后更新**: 2026年1月11日  
**维护者**: SupplyChain-Reconciler-Plus 团队
